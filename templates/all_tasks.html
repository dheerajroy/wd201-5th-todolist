{% extends 'layout.html' %}

{% block title %}All Tasks{% endblock %}

{% block body %}
<h1>Add Task:</h1>
<form action="/add-task" method="get">
    <input type="text" name="task" placeholder="Task">
    <input type="text" name="description" placeholder="Description">
    <input type="submit" value="Add Task">
</form>
<h1>Pending Tasks:</h1>
<ol>
    {% for task in pending_tasks %}
    <li>
        <h3>{{ task.title }} [index: {{task.id}}]&emsp;<a href="/complete_task/{{ task.id }}">done</a>&emsp;<a href="/delete-task/{{ task.id }}">delete</a></h3>
        {% if task.description %}
            <p>&emsp;{{ task.description }}</p>
        {% else %}
            <h4>&emsp;No description</h4>
        {% endif %}
    </li>
    {% empty %}
    <h2>No pending tasks</h2>
    {% endfor %}
</ol>
<h1>Completed Tasks:</h1>
<ol>
    {% for task in completed_tasks %}
    <li>
        <h3>{{ task.title }} [index: {{task.id}}]&emsp;<a href="/delete-task/{{ task.id }}/">delete</a></h3>
        {% if task.description %}
        <p>&emsp;{{ task.description }}</p>
        {% else %}
        <h4>&emsp;No description</h4>
        {% endif %}
    </li>
    {% empty %}
    <h2>No completed tasks</h2>
    {% endfor %}
</ol>
{% endblock %}